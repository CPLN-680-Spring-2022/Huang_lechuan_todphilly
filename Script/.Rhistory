knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidycensus)
library(sf)
library(tigris) # package to download tiger shapefiles from census API
library(viridis)
library(mapview)
TODyes <- st_read("C:/Users/mnxan/OneDrive/Documents/GitHub/Huang_lechuan_todphilly/cleaned_data/final_mat/stations_final_0421.shp")
View(TODyes)
library(tidycensus)
library(ggplot2)
library(tidyverse)
library(dplyr)
library(rgdal)
library(sf)
library(raster)
root.dir = "https://raw.githubusercontent.com/urbanSpatial/Public-Policy-Analytics-Landing/master/DATA/"
source("https://raw.githubusercontent.com/urbanSpatial/Public-Policy-Analytics-Landing/master/functions.r")
census_api_key("3050a770b2aedfa128dd2ccc6ca8b8524fccc775", overwrite = TRUE)
palette5 <- c("#25CB10", "#5AB60C", "#8FA108",   "#C48C04", "#FA7800")
#siting categorization
TODParcels <- st_read("C:/Users/mnxan/OneDrive/Documents/GitHub/Huang_lechuan_todphilly/cleaned_data/TOD_parcels_point.shp")
#siting categorization
TODParcels <- st_read("C:/Users/mnxan/OneDrive/Documents/GitHub/Huang_lechuan_todphilly/cleaned_data/Paracel_analysis/TOD_parcels_point.shp")
#siting categorization
TODParcels <- st_read("C:/Users/mnxan/OneDrive/Documents/GitHub/Huang_lechuan_todphilly/cleaned_data/Parcel_analysis/TOD_parcels_point.shp")
Redev2 <- filter(TODParcels, lu15catn == c("Agriculture", "Industrial"))
Redev3 <- filter(TODParcels, lu15subn == c("Undeveloped: General", "Undeveloped: Transitional Land",
"Parking - Transportation: Facility",  "Parking - Undeveloped: Undetermined Use"))
Redev1 <- rbind(Redev2, Redev3)
Redev <- filter(Redev1, Shape__Are > 4000)%>%
dplyr::select(lu15catn, lu15subn, mun_name, Shape__Are, geometry)%>%
st_transform(4326)
View(Redev)
geojson_write(Redev,
file = "C:/Users/mnxan/OneDrive/Documents/GitHub/Huang_lechuan_todphilly/webframe/parcel_data.geojson")
library(geojsonsf)
library(geojsonio)
geojson_write(Redev,
file = "C:/Users/mnxan/OneDrive/Documents/GitHub/Huang_lechuan_todphilly/webframe/parcel_data.geojson")
