st_sf()
Buffers <-
rbind(st_buffer(DVRPC_railstops, 800) %>%
mutate(Legend = "Buffer")
DVRPC_Parcel <- st_read("C:/Users/mnxan/OneDrive/Documents/GitHub/Huang_lechuan_todphilly/raw_data/Greater_Philadelphia_2015_Land_Use.shp")%>%
st_transform(st_crs(Study.sf))
DVRPC_Parcel <- DVRPC_Parcel%>%
s2_rebuild()
library(plyr)
DVRPC_Parcel <- st_read("C:/Users/mnxan/OneDrive/Documents/GitHub/Huang_lechuan_todphilly/raw_data/Greater_Philadelphia_2015_Land_Use.shp")%>%
st_transform(st_crs(Study.sf))
DVRPC_Parcel <- DVRPC_Parcel%>%
s2_rebuild()
Buffers <- st_buffer(DVRPC_railstops, 800)
View(Buffers)
TOD_parcel2 <- st_filter(st_centroid(DVRPC_Parcel), Buffers, join = st_within)%>%
st_sf()
DVRPC_Parcel <- DVRPC_Parcel%>%
s2_rebuild()
sf_use_s2(FALSE)
DVRPC_Parcel <- DVRPC_Parcel%>%
s2_rebuild()
#convert it to point data to save energy
TOD_parcel2 <- st_filter(st_centroid(DVRPC_Parcel), Buffers, join = st_within)%>%
st_sf()
View(TOD_parcel2)
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(TOD_parcel2) +
labs(caption = "Figure xx") +
mapTheme()
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_parcel2) +
labs(caption = "Figure xx") +
mapTheme()
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=Buffers) +
geom_sf(data=TOD_parcel2) +
labs(caption = "Figure xx") +
mapTheme()
View(TOD_parcel2)
table(TOD_parcel2$lu15cat)
table(TOD_parcel2$lu15catn)
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=Buffers) +
geom_sf(data=TOD_parcel2, aes(fill = lu15catn)) +
scale_fill_manual(values = c("#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b",
"#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"))+
labs(caption = "Figure xx") +
mapTheme()
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=Buffers) +
geom_sf(data=TOD_parcel2, aes(fill = lu15catn)) +
scale_fill_manual(values = c("#E3E4DB","#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b",
"#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2","#B8CC1A"))+
labs(caption = "Figure xx") +
mapTheme()
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=Buffers) +
geom_sf(data=TOD_parcel2, aes(fill = lu15catn)) +
labs(caption = "Figure xx") +
mapTheme()
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=Buffers) +
geom_sf(data=TOD_parcel2, aes(fill = lu15catn)) +
scale_fill_manual(values = c("#E3E4DB","#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b",
"#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2","#B8CC1A"))+
labs(caption = "Figure xx") +
mapTheme()
View(plotTheme)
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_parcel2, aes(fill = lu15catn)) +
scale_fill_manual(values = c("#E3E4DB","#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b",
"#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2","#B8CC1A"))+
labs(caption = "Figure xx") +
mapTheme()
st_write(TOD_parcel2, "C:/Users/mnxan/OneDrive/Documents/GitHub/Huang_lechuan_todphilly/cleaned_data/TOD_800bufer_parcelpoint.shp")
#join parcels to buffers
TOD_parcel_buffer <- st_join(TOD-parcel2, Buffers)
#join parcels to buffers
TOD_parcel_buffer <- st_join(TOD_parcel2, Buffers)
View(TOD_parcel_buffer)
View(TOD_parcel_buffer)
View(TOD_parcel_buffer)
NAME
TOD_parcel_tract2 <- TOD_parcel_tract%>%
group_by(station, lu15dev)%>%
summarise(count_parcel = n())
TOD_parcel_buffer2 <- TOD_parcel_buffer%>%
group_by(station, lu15dev)%>%
summarise(count_parcel = n())
TOD_parcel_buffer2 <- TOD_parcel_buffer%>%
group_by(NAME, lu15dev)%>%
summarise(count_parcel = n())
TOD_parcel_buffer2 <- TOD_parcel_buffer%>%
group_by(station, lu15dev)%>%
summarise(count_parcel = n())
TOD_parcel_buffer2 <- TOD_parcel_buffer%>%
group_by(station, lu15dev)%>%
dplyr::summarise(count_parcel = n())
View(TOD_parcel_buffer2)
TOD_parcel_buffer2 <- TOD_parcel_buffer%>%
st_drop_geometry()%>%
group_by(station, lu15dev)%>%
dplyr::summarise(count_parcel = n())
View(TOD_parcel_buffer2)
TOD_parcel_buffer3 <- TOD_parcel_buffer2 %>%
as_tibble()
TOD_parcel_buffer4 <- spread(TOD_parcel_buffer3, key = lu15dev, value = count_parcel)
View(TOD_parcel_buffer4)
TOD_parcel_mixedtract <- TOD_parcel_buffer%>%
st_drop_geometry()%>%
group_by(station, mixeduse)%>%
dplyr::summarise(count_parcel = n())
TOD_parcel_mixedtract2 <- TOD_parcel_mixedtract %>%
as_tibble()%>%
dplyr::select(-geometry)
TOD_parcel_mixedtract2 <- TOD_parcel_mixedtract %>%
as_tibble()
View(TOD_parcel_mixedtract2)
TOD_parcel_mixedtract3 <- spread(TOD_parcel_mixedtract2, key = mixeduse, value = count_parcel)
View(TOD_parcel_mixedtract3)
parcel_analysis <- cbind(TOD_parcel_buffer4, TOD_parcel_mixedtract3)%>%
dplyr::select(-name.y)
parcel_analysis <- cbind(TOD_parcel_buffer4, TOD_parcel_mixedtract3)
View(parcel_analysis)
parcel_analysis <- cbind(TOD_parcel_buffer4, TOD_parcel_mixedtract3)%>%
dplyr::select(-name)
parcel_analysis <- cbind(TOD_parcel_buffer4, TOD_parcel_mixedtract3)%>%
dplyr::select(-station.y)
parcel_analysis <- cbind(TOD_parcel_buffer4, TOD_parcel_mixedtract3)%>%
dplyr::select(-station)
View(parcel_analysis)
TOD_parcel_mixedtract3 <- spread(TOD_parcel_mixedtract2, key = mixeduse, value = count_parcel)%>%
rename(station.y = station)
TOD_parcel_mixedtract3 <- spread(TOD_parcel_mixedtract2, key = mixeduse, value = count_parcel)%>%
dplyr::rename(station.y = station)
parcel_analysis <- cbind(TOD_parcel_buffer4, TOD_parcel_mixedtract3)%>%
dplyr::select(-station.y)
View(parcel_analysis)
parcel_analysis[is.na(parcel_analysis)] = 0
parcel_analysis <- cbind(TOD_parcel_buffer4, TOD_parcel_mixedtract3)%>%
dplyr::select(-station.y)%>%
rename(MixedUse_yes = Y,
MixedUse_no = N)
parcel_analysis <- cbind(TOD_parcel_buffer4, TOD_parcel_mixedtract3)%>%
dplyr::select(-station.y)%>%
dplyr::rename(MixedUse_yes = Y,
MixedUse_no = N)
parcel_analysis[is.na(parcel_analysis)] = 0
parcel_analysis <- parcel_analysis%>%
mutate(totalpc = MixedUse_yes + MixedUse_no)%>%
dplyr::rename(Other = "Other Developed",
Trans = "Transportation and Parking",
Wooded = "Wooded or Undeveloped")
parcel_analysis <- parcel_analysis%>%
mutate(Mixedpct= (MixedUse_yes/totalpc)*100,
Transpct = (Trans/totalpc)*100,
Resipct = (Residential/totalpc)*100,
underpct = ((Agriculture + Wooded)/totalpc)*100)
TOD_tract_parcel <- merge(DVRPC_railstops, parcel_analysis)
TOD_station_parcel <- merge(DVRPC_railstops, parcel_analysis)
View(TOD_station_parcel)
st_write(TOD_station_parcel, "C:/Users/mnxan/OneDrive/Documents/GitHub/Huang_lechuan_todphilly/cleaned_data/TODstation_with_bufferparcel.shp")
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel,
aes(fill = q5(undrpct))) +
scale_fill_manual(values = c("#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"),
labels = qBr(TOD_tract_parcel, "undrpct"),
name = "undrpct \n(Quintile Breaks)") +
labs(caption = "Figure xx") +
mapTheme()
typeof(TOD_station_parcel$underpct)
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel,
aes(fill = q5(undrpct))) +
scale_fill_manual(values = c("#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"),
labels = qBr(TOD_station_parcel, "undrpct"),
name = "undrpct \n(Quintile Breaks)") +
labs(caption = "Figure xx") +
mapTheme()
as.numeric(TOD_station_parcel$underpct)
TOD_station_parcel$underpct <- as.numeric(TOD_station_parcel$underpct)
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel,
aes(fill = q5(undrpct))) +
scale_fill_manual(values = c("#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"),
labels = qBr(TOD_station_parcel, "undrpct"),
name = "undrpct \n(Quintile Breaks)") +
labs(caption = "Figure xx") +
mapTheme()
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel,
aes(fill = q5(underpct))) +
scale_fill_manual(values = c("#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"),
labels = qBr(TOD_station_parcel, "underpct"),
name = "undrpct \n(Quintile Breaks)") +
labs(caption = "Figure xx") +
mapTheme()
root.dir = "https://raw.githubusercontent.com/urbanSpatial/Public-Policy-Analytics-Landing/master/DATA/"
source("https://raw.githubusercontent.com/urbanSpatial/Public-Policy-Analytics-Landing/master/functions.r")
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel,
aes(fill = q5(underpct))) +
scale_fill_manual(values = c("#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"),
labels = qBr(TOD_station_parcel, "underpct"),
name = "undrpct \n(Quintile Breaks)") +
labs(caption = "Figure xx") +
mapTheme()
View(mapTheme)
View(TOD_station_parcel)
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, show.legend = "point"
aes(fill = q5(underpct))) +
scale_fill_manual(values = c("#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"),
labels = qBr(TOD_station_parcel, "underpct"),
name = "underpct \n(Quintile Breaks)") +
labs(caption = "Figure xx") +
mapTheme()
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, show.legend = "point",
aes(fill = q5(underpct))) +
scale_fill_manual(values = c("#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"),
labels = qBr(TOD_station_parcel, "underpct"),
name = "underpct \n(Quintile Breaks)") +
labs(caption = "Figure xx") +
mapTheme()
#BSL, MFL, NHSL, ATLANTIC, NEC, RIVERLINE, PATCO, SEPTA, Trolley
ggplot() +
geom_sf(data=Study.sf) +
geom_sf(data=DVRPC_railstops,
aes(colour = type_sym),
show.legend = "point", size= 2) +
scale_colour_manual(values = c("#ff8f1c", "#007dc3", "#781d7e", "#005DAA", "#EF3E42","#00A5E3", "#EF3E42", "#0255a1","#5d9731")) +
labs(title="Rail Stops in DVRPC",
subtitle="Philadelphia, PA",
caption="Figure xx") +
mapTheme()
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, aes(colour = q5(underpct)),
show.legend = "point") +
scale_fill_manual(values = c("#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"),
labels = qBr(TOD_station_parcel, "underpct"),
name = "underpct \n(Quintile Breaks)") +
labs(caption = "Figure xx") +
mapTheme()
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, aes(colour = qBr(underpct)),
show.legend = "point") +
scale_fill_manual(values = c("#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"),
labels = qBr(TOD_station_parcel, "underpct"),
name = "underpct \n(Quintile Breaks)") +
labs(caption = "Figure xx") +
mapTheme()
5
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, aes(colour = q5(underpct)),
show.legend = "point") +
scale_fill_manual(values = c("#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"),
labels = qBr(TOD_station_parcel, "underpct"),
name = "underpct \n(Quintile Breaks)") +
labs(caption = "Figure xx") +
mapTheme()
View(q5)
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, aes(colour = q5(underpct)),
show.legend = "point") +
scale_fill_manual(values = c("#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"),
labels = qBr(TOD_station_parcel, "underpct"),
name = "underpct \n(Quintile Breaks)") +
labs(caption = "Figure xx") +
mapTheme()
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, aes(colour = q5(underpct)),
show.legend = "point") +
scale_fill_manual(values = palette5,
labels = qBr(TOD_station_parcel, "underpct"),
name = "underpct \n(Quintile Breaks)") +
labs(caption = "Figure xx") +
mapTheme()
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, aes(colour = underpct),
show.legend = "point", size = 2) +
scale_fill_manual(values = c("#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"),
labels = qBr(TOD_station_parcel, "underpct"),
name = "underpct \n(Quintile Breaks)") +
labs(caption = "Figure xx") +
mapTheme()
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, aes(colour = underpct),
show.legend = "point", size = 2) +
labs(title="Non-developed parcels (Agriculture + Forests) percentage of TOD-buffers in DVRPC",
subtitle="Philadelphia, PA",
caption="Figure xx") +
mapTheme()
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, aes(colour = underpct),
show.legend = "point", size = 2) +
labs(title="Underdeveloped parcels (Agriculture + Forests) percentage of TOD-buffers in DVRPC",
subtitle="Philadelphia, PA",
caption="Figure xx") +
mapTheme()
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, aes(colour = Mixedpct),
show.legend = "point", size = 5) +
labs(title="Mixed-use parcel percentage of TOD-buffers in DVRPC",
subtitle="Philadelphia, PA",
caption="Figure xx") +
mapTheme()
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, aes(colour = Mixedpct),
show.legend = "point", size = 4) +
labs(title="Mixed-use parcel percentage of TOD-buffers in DVRPC",
subtitle="Philadelphia, PA",
caption="Figure xx") +
mapTheme()
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, aes(colour = Resipct),
show.legend = "point", size = 4) +
labs(title="Residential parcel percentage of TOD-buffers in DVRPC",
subtitle="Philadelphia, PA",
caption="Figure xx") +
mapTheme()
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, aes(colour = Transpct),
show.legend = "point", size = 4) +
labs(title="Transportation parcel percentage of TOD-buffers in DVRPC",
subtitle="Philadelphia, PA",
caption="Figure xx") +
mapTheme()
View(TOD_station_parcel)
View(TOD_station_parcel)
table(TOD_parcel2$lu15catn)
TOD_parcel_buffer <- st_join(TOD_parcel2, Buffers)
TOD_parcel_buffer2 <- TOD_parcel_buffer%>%
st_drop_geometry()%>%
group_by(station, lu15catn)%>%
dplyr::summarise(count_parcel = n())
TOD_parcel_buffer3 <- TOD_parcel_buffer2 %>%
as_tibble()
TOD_parcel_buffer4 <- spread(TOD_parcel_buffer3, key = lu15dev, value = count_parcel)
TOD_parcel_buffer4 <- spread(TOD_parcel_buffer3, key = lu15catn, value = count_parcel)
View(TOD_parcel_buffer4)
#merge
parcel_analysis <- cbind(TOD_parcel_buffer4, TOD_parcel_mixedtract3)%>%
dplyr::select(-station.y)%>%
dplyr::rename(MixedUse_yes = Y,
MixedUse_no = N)
parcel_analysis[is.na(parcel_analysis)] = 0
View(parcel_analysis)
parcel_analysis <- parcel_analysis%>%
mutate(totalpc = MixedUse_yes + MixedUse_no)%>%
dplyr::rename(Other = "Other Developed",
Trans = "Transportation and Parking",
Wooded = "Wooded or Undeveloped")
parcel_analysis <- parcel_analysis%>%
mutate(totalpc = MixedUse_yes + MixedUse_no)
parcel_analysis <- parcel_analysis%>%
mutate(Mixedpct= (MixedUse_yes/totalpc)*100,
Transpct = (Transportation/totalpc)*100,
Commpct = (Commercial/totalpc)*100,
Induspct = (Industrial/totalpc)*100,
Civilpct = ((Institutional+Recreation+Utility)/totalpc)*100,
Resipct = (Residential/totalpc)*100,
underpct = ((Agriculture + Wooded)/totalpc)*100)
TOD_station_parcel <- merge(DVRPC_railstops, parcel_analysis)
st_write(TOD_station_parcel, "C:/Users/mnxan/OneDrive/Documents/GitHub/Huang_lechuan_todphilly/cleaned_data/TODstation_bufferparcel_analysis.shp")
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, aes(colour = Commpct),
show.legend = "point", size = 4) +
labs(title="Commercial parcel percentage of TOD-buffers in DVRPC",
subtitle="Philadelphia, PA",
caption="Figure xx") +
mapTheme()
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, aes(colour = Induspct),
show.legend = "point", size = 4) +
labs(title="Industrial parcel percentage of TOD-buffers in DVRPC",
subtitle="Philadelphia, PA",
caption="Figure xx") +
mapTheme()
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, aes(colour = Civilpct),
show.legend = "point", size = 4) +
labs(title="Civil parcel (Institutional+Recreation+Utility) percentage of TOD-buffers in DVRPC",
subtitle="Philadelphia, PA",
caption="Figure xx") +
mapTheme()
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, aes(colour = Civilpct),
show.legend = "point", size = 4) +
labs(title="Civil parcel percentage of TOD-buffers in DVRPC",
subtitle="(Institutional+Recreation+Utility)",
caption="Figure xx") +
mapTheme()
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, aes(colour = Civilpct),
show.legend = "point", size = 4) +
labs(title="Civil parcel percentage of TOD-buffers in DVRPC",
subtitle="(Institutional + Recreation + Utility)",
caption="Figure xx") +
mapTheme()
View(TOD_station_parcel)
#visualization
ggplot() +
geom_sf(data=st_union(Study.sf)) +
geom_sf(data=TOD_station_parcel, aes(colour = totalpc),
show.legend = "point", size = 4) +
labs(title="Total parcel numbers of TOD-buffers",
subtitle="DVRPC",
caption="Figure xx") +
mapTheme()
summary(TOD_station_parcel$totalpc)
summary(TOD_station_parcel$Residential)
View(TOD_station_parcel)
summary(TOD_station_parcel$Resipct)
View(TOD_parcel2)
View(DVRPC_railstops)
View(parcel_analysis)
DVRPC_railstops <- DVRPC_railstops%>%
DVRPC_railstops <- tibble::rowid_to_column(DVRPC_railstops, "ID")
DVRPC_railstops <- DVRPC_railstops%>%
tibble::rowid_to_column(DVRPC_railstops, "ID")
DVRPC_railstops$ID <- seq.int(nrow(data))
View(DVRPC_railstops)
DVRPC_railstops <- tibble::rowid_to_column(DVRPC_railstops, "ID")
View(DVRPC_railstops)
Buffers <- st_buffer(DVRPC_railstops, 800)
DVRPC_Parcel <- DVRPC_Parcel%>%
s2_rebuild()
#filter parcels within TOD buffers
TOD_parcel2 <- st_filter(st_centroid(DVRPC_Parcel), Buffers, join = st_within)%>%
st_sf()
#filter parcels within TOD buffers
TOD_parcel2 <- st_filter(st_centroid(DVRPC_Parcel), Buffers, join = st_within)%>%
st_sf()
View(Buffers)
Buffers <- st_buffer(DVRPC_railstops, 800)
sf_use_s2(FALSE)
DVRPC_Parcel <- DVRPC_Parcel%>%
s2_rebuild()
DVRPC_Parcel <- st_read("C:/Users/mnxan/OneDrive/Documents/GitHub/Huang_lechuan_todphilly/raw_data/Greater_Philadelphia_2015_Land_Use.shp")%>%
st_transform(st_crs(Study.sf))
#filter parcels within TOD buffers
TOD_parcel2 <- st_filter(st_centroid(DVRPC_Parcel), Buffers, join = st_within)%>%
st_sf()
View(Buffers)
DVRPC_railstops <- tibble::rowid_to_column(DVRPC_railstops, "ID")%>%
st_transform(st_crs(Study.sf))
Buffers <- st_buffer(DVRPC_railstops, 800)
#filter parcels within TOD buffers
TOD_parcel2 <- st_filter(st_centroid(DVRPC_Parcel), Buffers, join = st_within)%>%
st_sf()
sf_use_s2(TRUE)
#filter parcels within TOD buffers
TOD_parcel2 <- st_filter(st_centroid(DVRPC_Parcel), Buffers, join = st_within)%>%
st_sf()
